### 3way handshake

TCP는 연결 지향 프로토콜로 두 호스트가 통신하기 전에 연결을 위한 관계를 수립

### 4way handshake

연결을 종료함

### TCP 타이머 - Retransmission

송신측이 패킷을 매번 전송할 때 카운트
RTO 내 ACK 응답이 오지 않으면 재전송

####

#### TCP 타이머 - persistence

윈도우 사이즈 관련 타이머 .

수신측에서 용량 부족으로 윈도우 사이즈 없음을 서버에게 보내고 다시 용량이 생기면 서버 측에 요청

윈도우 사이즈 용량이 생겨서 윈도우 사이즈 > 0 이라는 ACK 신호를 보내는데, 이 신호가 유신되면 서로 통신간 문제가 발생.

그래서 수신측 윈도우 사이즈 =0 을 보낼 경우, 서버쪽에서 persistence 타이머 가동.

persistence 타이머가 만료되면 수신측에서 다시 ACK 재전송을 요청하고 다시 타이머 재 가동.

이 방식을 통해 송신 측에서 수신측의 윈도우 사이즈를 실시간 측정할 수 있음.

#### TCP 타이머 - Time waited

TCP 연결 종료 후에 특정 시간만 연결을 유지하기 위해 사용되는 타이머.

(다른 연결이 맺어진 상태에서 이전 연결의 지연/중복 패킷 도착으로 인한 문제 발생을 방지)

먼저 연결을 종료한 쪽에 이 타이머가 생김.

#### keepalive

정상적인 연결 상태에서 어느 순간 클라이언트가 비정상적으로 연결이 종료되었을 경우, 서버 측은 종료된지 모르고 계속 연결을 유지할 것.

이러한 상황을 방지하기 위해 keep alive timer를 사용.

서버가 클라이언트로부터 어떠한 데이터를 받을떄마다 타이머가 초기화 됨. 해당 타이머가 특정 시간이 지나면 클라이언트에게 probe세그먼트를 전송.

75초 간격으로 10개 정도 세그먼트를 보냈는데 응답이 없으면 연결 종료.

### TCP 흐름 제어

송신과 수신측의 데이터 처리 속도 차이를 해결
sliding window 기법, window = 데이터 전송을 위한 버퍼

### TCP 혼잡 제어

수신 측으로 유입되는 트래픽의 양이 정해진 대역폭을 넘어가지 않도록 제어

AIMDD : 패킷 전송 시 문제 없으면 윈도우 사이즈 증가, 타임 아웃 또는 loss 시 패킷 속도 1/2 감소

Slow Start : 패킷 전송시 문제 없으면 윈도우 사이즈 2배씩 증가, 혼잡 상태 발생시 1로 변경. 이전 혼잡 상태를 기록하고 윈도우 사이즈 절반까지 2배씩 증가 후 1씩 증가

Fast Retransmit :
